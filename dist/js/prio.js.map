{"version":3,"sources":["src/js/app.js","src/js/factory.helpers.js","src/js/factory.storage.js","src/js/service.wunderlist.js","src/js/values.js"],"names":["app","angular","module","angularDragula","oauthConfig","accessToken","accessCode","clientID","redirectUrl","random","document","getElementById","addEventListener","e","classList","toggle","controller","$scope","dragulaService","wunderlistService","CONSTANTS","$help","$localstorage","tempElement","tempElementsArray","listService","defaultObject","enableDebugging","debug","init","login","isLoggedIn","loadData","setupScope","tasks","status","date","showOverdue","setupLocalStorage","localData","getObject","STORAGE_LOCAL_NAME","isEmpty","activeType","types","setObject","isDropAllowed","el","target","source","sibling","hasClass","CLASS_SORTABLE","CLASS_NO_DROP","hasOverdueTasks","overdueList","ID_TASKS_OVERDUE","firstElementChild","storeTaskIdLocally","taskId","typeData","typeId","task","taskRank","taskSection","findAncestorByClass","CLASS_TYPE","parseInt","attributes","ATTR_DATA_TYPE","value","ATTR_DATA_SECTION","rank","section","mergeObject","removeTaskIdLocally","removeFromObject","options","revertOnSpill","accepts","$on","CLASS_DRAG_CONTAINER","addClass","CLASS_DRAG_SOURCE","parentElement","querySelectorAll","ATTR_DATA_TARGET","i","l","length","indicator","contains","hasAttribute","setAttribute","element","newDueDate","data","ATTR_DATA_DATE","ATTR_TASK_ID","undefined","due_date","updateTask","$apply","removeClass","factory","helpers","this","className","add","remove","obj","prop","hasOwnProperty","parsedUrl","queryString","parse","location","search","console","info","body","$window","key","localStorage","JSON","stringify","src","dest","merged","merge","replacer","property","clear","WunderlistSDK","window","wunderlist","sdk","wunderlistApiUrl","timeSpan","overdue","today","tomorrow","week","future","unkown","service","$rootScope","$http","safeApply","fn","phase","$root","$$phase","WunderlistAPI","allLists","allListIds","tasksById","taskIdsByDate","message","code","currentDayDates","currentTime","updateStatus","handleError","resp","errorMessage","error","storeAllListIds","forEach","list","id","setCurrentDayDates","currentDay","getTime","daySpan","weekSpan","initNewTime","Date","setHours","setCurrentTime","override","getCurrentness","taskTime","timeDiff","storeTasksById","storeTasksIdsByDate","currentness","push","storeTasks","loadAllTasks","http","forList","done","tasksData","statusCode","fail","filterLists","loadAllLists","lists","all","pullCurrentTaskData","method","url","headers","X-Access-Token","X-Client-ID","Content-Type","then","successCallback","response","statusText","errorCallback","solveConflicts","sendPatch","sendPatchR","tryouts","setTimeout","revision","access_token","href","initialized","config","CLASS_OVERDUE"],"mappings":"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","file":"dist/js/prio.js"}